.
pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--don't talk to strangers
--by robin melcher

function _init()
	
	playerx = 0
	playery = 0
	solid = false
	
end

function _update()

	solid = solid_tile(playerx,playery)
	

	if(btn(⬅️)) then
		if(solid_tile(playerx -1, playery) == false) then
		playerx -=1
		end
	end
		
	if(btn(➡️)) then
		if(solid_tile(playerx + 8 + 1, playery) == false) then
		playerx +=1
		end
	end
	
	if(btn(⬆️)) then
		if(solid_tile(playerx, playery - 1) == false) then
		playery -=1
		end
	end
	
	if(btn(⬇️)) then
		if(solid_tile(playerx, playery + 8 + 1) == false) then
		playery +=1
		end
	end

end

function solid_tile(x, y)
	local tilex = ((x - (x % 8)) / 8)
	local tiley = ((y - (y % 8)) / 8)
	
	if(fget(mget(tilex, tiley), 0)) then
		return true
	else
		return false
	end
	
end

function draw_background()
	rectfill(0, 0, 128, 128, 1)
	map(0, 0, 0, 0)
end

function _draw()
	
	draw_background()
	spr(16,playerx, playery, 2, 2)
	spr(18, 70, 70, 2, 2)
end


function newdialogue(xoff, yoff, w, h)
	local d = {}
	return d
end


__gfx__
00000000000880003333333366666666666666660000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00000000000ff8003333333366666666666666660000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00700700007ff7003333333366666666666666660000000033777733000aa0000000000000000000000000000000000000000000000000000000000000000000
000770000f7777f033333333666666666666666600aaaa0033777733000aa0000000000000000000000000000000000000000000000000000000000000000000
000770000f7777f033333333666666666666666600aaaa0033777733000aa0000000000000000000000000000000000000000000000000000000000000000000
00700700004444003333333366666666666666660000000033345333000aa0000000000000000000000000000000000000000000000000000000000000000000
0000000000f00f003333333366666666666666660000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00000000005005003333333366666666555555550000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
000000888800000000000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000088888000000000f4f1f1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000facfca000000000ffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000fffff00000000000ff444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000f99f00000000000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000007ffff70000000007fffff700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000777777770000000f77fff77f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007777777777000000f7777777f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000f77777777f000000f7777777f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000f77777777f000000f7777777f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000f77777777f000000f7777777f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000f44777744f000000fcccccccf0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00004444444400000000ccc0ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000ff00ff0000000000f000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000007700770000000000f000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000888008880000000f4f000f4f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0700030302020206020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0700040404040404040404040404040300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0500050005000500050005000500050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030300070003030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030300000003030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300070003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300070003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300070003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202030300000003030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
